<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkMind - Knowledge Workspace</title>
    <link rel="stylesheet" href="sidepanel.css">
</head>
<body>
    <div class="sidepanel-container">
        <!-- Header with Search -->
        <div class="panel-header">
            <div class="header-top">
                <div class="logo">
                    <span class="logo-icon">🧠</span>
                    <span class="logo-text">LinkMind</span>
                </div>
                <div class="header-actions">
                    <div class="storage-status">
                        <span class="status-icon">💾</span>
                        <span class="status-text">Local</span>
                    </div>
                    <button class="action-btn" data-action="export" title="Export your data">
                        <span>📤</span>
                    </button>
                    <button class="action-btn" data-action="settings">
                        <span>⚙️</span>
                    </button>
                </div>
            </div>
            
            <div class="search-container">
                <div class="search-input-wrapper">
                    <span class="search-icon">🔍</span>
                    <input 
                        type="text" 
                        class="search-input" 
                        placeholder="Search your knowledge..."
                        id="searchInput"
                    >
                    <button class="search-clear" id="searchClear">✕</button>
                </div>
                <div class="search-filters">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="notes">Notes</button>
                    <button class="filter-btn" data-filter="snippets">Snippets</button>
                    <button class="filter-btn" data-filter="images">Images</button>
                </div>
            </div>
        </div>

        <!-- Intelligent Knowledge Context -->
        <div class="knowledge-context">
            <!-- Hook Model Trigger: Knowledge Gaps & Opportunities -->
            <div class="intelligence-panel">
                <div class="insight-header">
                    <div class="insight-icon">🧠</div>
                    <div class="insight-content">
                        <h3 class="insight-title">Knowledge Intelligence</h3>
                        <p class="insight-subtitle">Discover connections and fill gaps</p>
                    </div>
                    <div class="insight-actions">
                        <button class="insight-btn" data-action="knowledge-map" title="View Knowledge Graph">
                            🕸️
                        </button>
                    </div>
                </div>
                
                <!-- Hook Model: Variable Rewards - Discovery Notifications -->
                <div class="discovery-alerts" id="discoveryAlerts">
                    <div class="discovery-item active">
                        <div class="discovery-type">
                            <span class="discovery-icon">💡</span>
                            <span class="discovery-label">Connection Found</span>
                        </div>
                        <div class="discovery-content">
                            <p class="discovery-text">Your React research connects to 3 other topics</p>
                            <button class="discovery-action" data-action="explore-connections">Explore →</button>
                        </div>
                    </div>
                    
                    <div class="discovery-item">
                        <div class="discovery-type">
                            <span class="discovery-icon">🎯</span>
                            <span class="discovery-label">Knowledge Gap</span>
                        </div>
                        <div class="discovery-content">
                            <p class="discovery-text">Missing: React performance optimization patterns</p>
                            <button class="discovery-action" data-action="research-suggestion">Research →</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Active Project Context (replaces domain context) -->
            <div class="project-context">
                <div class="context-header">
                    <div class="project-info">
                        <span class="project-icon">🚀</span>
                        <div class="project-details">
                            <h3 class="current-project">Frontend Architecture Research</h3>
                            <p class="context-subtitle">8 items • Last updated 2 min ago</p>
                        </div>
                    </div>
                    <button class="context-toggle" data-action="toggle-project">
                        <span class="toggle-icon">▼</span>
                    </button>
                </div>
                <div class="project-items" id="projectItems">
                    <div class="content-card recent featured">
                        <div class="card-header">
                            <div class="card-type">
                                <span class="type-icon">📝</span>
                                <span class="type-label">Research Note</span>
                            </div>
                            <div class="card-meta">
                                <span class="card-time">2 min ago</span>
                                <span class="connection-indicator" title="Connected to 3 other items">🕸️ 3</span>
                            </div>
                        </div>
                        <h4 class="card-title">React Hooks Best Practices</h4>
                        <p class="card-preview">Key principles for using React hooks effectively in modern applications...</p>
                        <div class="card-insights">
                            <div class="insight-tags">
                                <span class="tag semantic">#react-architecture</span>
                                <span class="tag semantic">#performance</span>
                                <span class="tag semantic">#best-practices</span>
                            </div>
                            <div class="connection-preview">
                                <span class="connection-text">↗️ Related to Performance Guide, State Management</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Recent Items -->
        <div class="content-section">
            <div class="section-header">
                <h3 class="section-title">📚 Recent Captures</h3>
                <button class="section-action" data-action="view-all">View All</button>
            </div>
            
            <div class="content-grid" id="contentGrid">
                <div class="content-card">
                    <div class="card-header">
                        <div class="card-type">
                            <span class="type-icon">💡</span>
                            <span class="type-label">Snippet</span>
                        </div>
                        <span class="card-time">5 min ago</span>
                    </div>
                    <h4 class="card-title">CSS Grid Layout Patterns</h4>
                    <p class="card-preview">Advanced CSS Grid techniques for modern responsive layouts...</p>
                    <div class="card-tags">
                        <span class="tag">#css</span>
                        <span class="tag">#grid</span>
                        <span class="tag">#responsive</span>
                    </div>
                    <div class="card-actions">
                        <button class="card-action" data-action="view">👁️</button>
                        <button class="card-action" data-action="edit">✏️</button>
                        <button class="card-action" data-action="share">📤</button>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <div class="card-type">
                            <span class="type-icon">📸</span>
                            <span class="type-label">Screenshot</span>
                        </div>
                        <span class="card-time">1 hour ago</span>
                    </div>
                    <div class="card-image">
                        <div class="image-placeholder">
                            <span class="image-icon">🖼️</span>
                            <span class="image-text">Dashboard Design</span>
                        </div>
                    </div>
                    <h4 class="card-title">Analytics Dashboard UI</h4>
                    <div class="card-tags">
                        <span class="tag">#design</span>
                        <span class="tag">#ui</span>
                        <span class="tag">#dashboard</span>
                    </div>
                    <div class="card-actions">
                        <button class="card-action" data-action="view">👁️</button>
                        <button class="card-action" data-action="edit">✏️</button>
                        <button class="card-action" data-action="share">📤</button>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <div class="card-type">
                            <span class="type-icon">🔗</span>
                            <span class="type-label">Bookmark</span>
                        </div>
                        <span class="card-time">3 hours ago</span>
                    </div>
                    <h4 class="card-title">TypeScript Documentation</h4>
                    <p class="card-preview">Official TypeScript handbook and reference documentation...</p>
                    <div class="card-source">
                        <span class="source-icon">🌐</span>
                        <span class="source-url">typescriptlang.org</span>
                    </div>
                    <div class="card-tags">
                        <span class="tag">#typescript</span>
                        <span class="tag">#documentation</span>
                    </div>
                    <div class="card-actions">
                        <button class="card-action" data-action="view">👁️</button>
                        <button class="card-action" data-action="edit">✏️</button>
                        <button class="card-action" data-action="share">📤</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Actions Footer -->
        <div class="panel-footer">
            <div class="quick-actions">
                <button class="quick-action primary" data-action="new-note">
                    <span class="action-icon">📝</span>
                    <span class="action-label">New Note</span>
                </button>
                <button class="quick-action secondary" data-action="capture">
                    <span class="action-icon">📷</span>
                    <span class="action-label">Capture</span>
                </button>
            </div>
        </div>
    </div>

    <script src="../services/storage.js"></script>
    <script src="../services/bookmarks.js"></script>  
    <script src="sidepanel.js"></script>
</body>
</html>